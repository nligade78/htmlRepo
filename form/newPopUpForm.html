<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    
</head>

<body>
    <style></style>
    <!-- Main Popup Form -->
<div class="popup-form" id="popupForm">
    <button class="close-btn" onclick="closePopupForm()">&times;</button>
    <h2 id="formTitle">Main Form</h2>
    <form id="editForm">
      <!-- Input fields with pre-populated values -->
      <label for="email">Employee Email Id:</label>
      <input type="text" id="email" name="email" value="">
      <br>
      <label for="name">Name:</label>
      <input type="text" id="name" name="name" value="">
      <br>
      <!-- Add more input fields here with pre-populated values -->
      <button type="submit">Save</button>
    </form>
  </div>
  
  <!-- Delete Confirmation Popup Form -->
  <div class="confirmation-form" id="confirmationForm">
    <h2>Delete Confirmation</h2>
    <p>Are you sure you want to delete this item?</p>
    <button type="button" onclick="closeConfirmationForm()">Close</button>
    <button type="button" onclick="deleteItem()">OK</button>
  </div>

<script>
    // Function to open the main popup form
function openPopupForm() {
  document.getElementById("popupForm").style.display = "block";
}

// Function to close the main popup form
function closePopupForm() {
  document.getElementById("popupForm").style.display = "none";
}

// Function to open the delete confirmation form
function openConfirmationForm() {
  document.getElementById("confirmationForm").style.display = "block";
}

// Function to close the delete confirmation form
function closeConfirmationForm() {
  document.getElementById("confirmationForm").style.display = "none";
}

// Function to handle delete action
function deleteItem() {
  // Perform delete action here
  // For example:
  // console.log("Item deleted!");
  // Close confirmation form
  closeConfirmationForm();
}

$(document).ready(function() {
  var table = $('#example').DataTable({
    ajax: {
      url: 'data.json', // Path to your JSON file
      dataSrc: '' // Set dataSrc to an empty string to read the data from the root of JSON
    },
    columns: [
      { 
        data: null,
        title: 'Action', // Column header for the action buttons
        render: function(data, type, row) {
          return '<button class="edit-btn"><i class="fas fa-edit"></i></button><button class="delete-btn" onclick="openConfirmationForm()"><i class="fas fa-trash-alt"></i></button>';
        }
      },
      { data: 'Project Name', title: 'Project Name' },
      { data: 'Project WBS Code', title: 'Project WBS Code' },
      { data: 'Type of Allowance', title: 'Type of Allowance' },
      { data: 'No.Of total Recipients', title: 'No.Of total Recipients' },
      { data: 'Total Allowance amount', title: 'Total Allowance amount' },
      { data: 'Processing date', title: 'Processing date' },
      { data: 'Approvers Name', title: 'Approvers Name' },
      { data: 'Approval Date', title: 'Approval Date' },
      { data: 'Status', title: 'Status' }
    ]
  });
});

</script>
</body>
</html>